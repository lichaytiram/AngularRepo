<div>

    <div *ngIf="user$ | async as user">

        <button (click)="logout()" class="text-primary m-1"><i class="fas fa-sign-out-alt"></i> Log
            Out</button><br>
        <button (click)="deleteAccount(user.id)" class="text-danger m-1"><i class="fas fa-minus-circle"></i> Delete
            Account</button>

    </div>

    <div class="container">

        <div *ngIf="user$ | async as user">

            <h5 class="text-center">You user</h5>

            <form>

                <div class="row justify-content-center">
                    <label class="col-4 col-sm-3 col-md-2 col-lg-1 col-xl-1 p-0">username: </label>
                    <span *ngIf="!edit" class="col-5 col-sm-4 col-md-3 col-lg-2 col-xl-2 p-0">{{user.username}}</span>
                    <input *ngIf="edit && !username" type="button" value="&#xf4ff; Edit username"
                        (click)="usernameToggle('username')" class="col-5 col-sm-4 col-md-3 col-lg-2 col-xl-2 p-0 fas">

                    <div *ngIf="edit && username" class="col-5 col-sm-4 col-md-3 col-lg-2 col-xl-2 p-0">
                        <small class="text-danger" [class.d-none]="username.untouched || username.valid">
                            Must to enter only three letters at least</small>

                        <input type="text" title="Enter an username" name="username" #username="ngModel"
                            [(ngModel)]="user.username" required pattern="^[a-zA-Z]{3,}$"
                            [class.border-danger]="username.invalid && username.touched"
                            class="rounded-pill border border-primary text-center">

                        <div class="row justify-content-around p-1">
                            <input type="button" value="&#xf410; Cancel" (click)="allToggleOff()"
                                class="far text-danger">
                            <input type="button" value="&#xf0c7; Save" class="far text-primary">
                        </div>

                    </div>

                </div>

                <div class="row justify-content-center">
                    <label class="col-4 col-sm-3 col-md-2 col-lg-1 col-xl-1 p-0">password: </label>
                    <span *ngIf="!edit" class="col-5 col-sm-4 col-md-3 col-lg-2 col-xl-2 p-0">{{user.password}}</span>
                    <input *ngIf="edit" type="button" value="&#xf4ff; Edit password"
                        (click)="usernameToggle('password')" class="col-5 col-sm-4 col-md-3 col-lg-2 col-xl-2 p-0 fas">
                </div>

                <div class="row justify-content-center">
                    <label class="col-4 col-sm-3 col-md-2 col-lg-1 col-xl-1 p-0">confirm: </label>
                    <span *ngIf="!edit"
                        class="col-5 col-sm-4 col-md-3 col-lg-2 col-xl-2 p-0">{{user.confirmPassword}}</span>
                    <span *ngIf="edit" class="col-5 col-sm-4 col-md-3 col-lg-2 col-xl-2 p-0"></span>
                </div>

                <div class="row justify-content-center">
                    <label class="col-4 col-sm-3 col-md-2 col-lg-1 col-xl-1 p-0">gender: </label>
                    <span *ngIf="!edit" class="col-5 col-sm-4 col-md-3 col-lg-2 col-xl-2 p-0">{{user.gender}}</span>
                    <input *ngIf="edit" type="button" value="&#xf4ff; Edit gender" (click)="usernameToggle('gender')"
                        class="col-5 col-sm-4 col-md-3 col-lg-2 col-xl-2 p-0 fas">
                </div>

                <div class="row justify-content-center">
                    <label class="col-4 col-sm-3 col-md-2 col-lg-1 col-xl-1 p-0">weight: </label>
                    <span *ngIf="!edit" class="col-5 col-sm-4 col-md-3 col-lg-2 col-xl-2 p-0">{{user.weight}}</span>
                    <input *ngIf="edit" type="button" value="&#xf4ff; Edit weight" (click)="usernameToggle('weight')"
                        class="col-5 col-sm-4 col-md-3 col-lg-2 col-xl-2 p-0 fas">
                </div>

            </form>

        </div>

        <div class="text-center">
            <input type="button" value="&#xf4ff; Edit account" (click)="editToggleOn()" class="fas text-primary"><br>
            <input type="button" value="&#xf410; Cancel edit" [class.d-none]="!edit" (click)="editToggleOff()" class="far text-danger">
        </div>

    </div>

</div>